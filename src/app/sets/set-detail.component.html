<div class="container">
    <div class="row">
        <h1 class="col-xs-12">{{pageTitle}}</h1>
    </div>
    <div class="row" *ngIf='set && setParts'>
        <div class="col-xs-12 col-lg-6" >
            <img [src]='set.setImageUrl' class="img-fluid"> 
        </div>
        <div class="col-xs-12 col-lg-6">
            <div>{{ set.name }}</div>                    
            <div>Set Number: {{ set.setNumber }}</div>
            <div>Theme: {{ set.theme }}</div>          
            <div>Parts Total: {{ partsTotal }}</div>
            <div>Parts Remaining: {{ partsRemaining }}</div>
            <div>Distinct Part Count: {{ partsDistinctTotal }}</div>
            <div>Distinct Part Remaining: {{ partsDistinctRemaining }}</div>
        </div>
    </div>
    <div class="row">
        <div class="col-xs-12 col-lg-8">
            <div class="btn-group btn-group-toggle" ngbRadioGroup name="filteredByOptions" [(ngModel)]="filteredBy" (change)="performFilter()">
                <label ngbButtonLabel class="btn-primary">
                <input ngbButton type="radio" value="all"> All Parts
                </label>
                <label ngbButtonLabel class="btn-primary">
                <input ngbButton type="radio" value="find"> Still Need To Find
                </label>
                <label ngbButtonLabel class="btn-primary">
                <input ngbButton type="radio" value="found"> Found All
                </label>
            </div>
        </div>
        <div class="col-xs-12 col-lg-4">
            <button type="button" class="btn btn-danger" (click)="clearAllPartsFound()">Clear All Found Parts</button>
        </div>
    </div>
</div>



<div class='table-responsive'>
    <table class='table' *ngIf='visibleSetParts && visibleSetParts.length'>
        <thead>
            <tr>
                <th> </th>
                <th (click)="changeSort('partNumber')">Part No.</th>
                <th (click)="changeSort('name')">Name</th>  
                <th (click)="changeSort('color')">Color</th>                    
                <th (click)="changeSort('need')">Need</th>               
                <th>Found</th>
                <th> </th>
                <th> </th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor='let setPart of visibleSetParts'>
                <td><img [src]='setPart.partImageUrl' [style.width.px]='setPartWidth' [style.margin.px]='imageMargin' (click)="openModalImage(setPart)" > </td>
                <td>{{ setPart.partNumber }}</td>
                <td>{{ setPart.name }}</td>
                <td>{{ setPart.color }}</td>
                <td>{{ setPart.quantityNeeded }}</td>
                <td>{{ setPart.quantityFound }}</td>
                <td><button class='btn btn-success' (click)='updatePartFoundCount(setPart)' > {{ setPart.quantityRemaining }} More Found</button> <input class="form-control form-control-sm" type='number' [(ngModel)]='setPart.quantityRemaining'></td>
                <td><button class='btn btn-warning' (click)='clearPartFoundCount(setPart)' *ngIf='setPart.quantityFound != 0' >Clear Found</button></td>
            </tr>
        </tbody>
    </table>
</div>